# Zsh Configuration Reference

> **Quick access**: Type `help` in any terminal to view this guide

---

## Development Environment

**SpendCloud Cluster Management:**
- `cluster` or `cluster start` - Start development cluster
- `cluster --rebuild` - Rebuild and start with fresh images
- `cluster stop` - Stop all services
- `cluster logs [service]` - View logs (all services or specific)

**Database Migrations:**
- `migrate` or `migrate all` - Run all migrations
- `migrate customers` - Customer-specific migrations
- `migrate config` - Configuration migrations
- `migrate shared` - Shared storage migrations
- `migrate rollback [target]` - Rollback migrations

---

## Package Management

> Universal package manager commands using `ni`/`nr`

- `nio` - Install packages offline-first (`ni --prefer-offline`)
- `s` - Start development server (`nr start`)
- `d` - Start in development mode (`nr dev`)
- `b` - Build project (`nr build`)
- `bw` - Build with file watching (`nr build --watch`)
- `t` - Run tests (`nr test`)
- `tu` - Update test snapshots (`nr test -u`)
- `tw` - Run tests in watch mode (`nr test --watch`)
- `w` - Generic watch command (`nr watch`)
- `p` - Run playground/demo (`nr play`)
- `c` - Type checking (`nr typecheck`)
- `lint` - Lint code (`nr lint`)
- `lintf` - Lint and auto-fix (`nr lint --fix`)
- `release` - Create release (`nr release`)
- `re` - Create release (short) (`nr release`)
- `pn` - PNPM package manager (`pnpm`)

---

## Git Workflow

**Basic Operations:**
- `gs` - Show working tree status (`git status`)
- `ga` - Stage changes (`git add`)
- `gA` - Stage all changes (`git add -A`)
- `gc` - Commit changes (`git commit`)
- `gcm` - Commit with message (`git commit -m`)
- `gca` - Commit all tracked changes (`git commit -a`)
- `gcam` - Stage all & commit (`git add -A && git commit -m`)

**Branching & Navigation:**
- `gco` - Switch branches/restore files (`git checkout`)
- `gcob` - Create and switch to new branch (`git checkout -b`)
- `gb` - List/create branches (`git branch`)
- `gbd` - Delete branch (`git branch -d`)
- `main` - Switch to main branch (`git checkout main`)
- `grt` - Go to repository root (`cd "$(git rev-parse --show-toplevel)"`)

**Remote Operations:**
- `gp` - Push changes (`git push`)
- `gpf` - Force push (`git push --force`)
- `gpft` - Push with tags (`git push --follow-tags`)
- `gpl` - Pull with rebase (`git pull --rebase`)
- `gcl` - Clone repository (`git clone`)

**History & Information:**
- `gl` - Show commit history (`git log`)
- `glo` - Compact graph view (`git log --oneline --graph`)
- `gsha` - Copy current commit SHA (`git rev-parse HEAD | pbcopy`)
- `ghci` - Latest CI run status (`gh run list -L 1`)

**Undoing & Cleaning:**
- `grh` - Unstage changes (`git reset HEAD`)
- `grh1` - Undo last commit (`git reset HEAD~1`)
- `gst` - Stash changes (`git stash`)
- `gxn` - Preview cleanup (dry-run) (`git clean -dn`)
- `gx` - Remove untracked files (`git clean -df`)
- `grm` - Remove files from git (`git rm`)
- `gmv` - Move/rename files (`git mv`)

**Advanced Operations:**
- `grb` - Rebase current branch (`git rebase`)
- `grbom` - Rebase on origin/master (`git rebase origin/master`)
- `grbc` - Continue rebase (`git rebase --continue`)
- `gfrb` - Fetch & rebase (`git fetch origin && git rebase origin/master`)

**Enhanced Git Functions:**
- `gd [file]` - Enhanced git diff with `diff-so-fancy`
- `gdc [file]` - Enhanced git diff --cached with `diff-so-fancy`
- `glp [n]` - Show last n commits
- `pr ls` - List open pull requests
- `pr [number]` - Checkout pull request

---

## Directory Navigation

**Quick Navigation:**
- `development [dir]` - Go to `~/development/[dir]` (main dev projects)
- `projects [dir]` - Go to `~/projects/[dir]` (personal projects)
- `repros [dir]` - Go to `~/repros/[dir]` (bug reproductions)
- `forks [dir]` - Go to `~/forks/[dir]` (forked repositories)
- `dir [name]` - Create directory and enter it

**Project-Specific Shortcuts:**
- `sc` - Go to SpendCloud project (`~/development/spend-cloud`)
- `scapi` - Go to SpendCloud API (`~/development/spend-cloud/api`)
- `scui` - Go to SpendCloud UI (`~/development/spend-cloud/ui`)
- `pf` - Go to Proactive Frame (`~/development/proactive-frame`)

---

## Repository Cloning

> All clone functions automatically navigate to the directory and optionally open VSCode

**Clone Functions:**
- `clone [repo] [name]` - Basic enhanced clone
- `cloned [repo]` - Clone to `~/development` and open in VSCode
- `cloner [repo]` - Clone to `~/repros` and open in VSCode
- `clonef [repo]` - Clone to `~/forks` and open in VSCode
- `clonep [repo]` - Clone to `~/projects` and open in VSCode

**Example:** `cloned user/repo` clones to `~/development/repo` and opens in VSCode

---

## VSCode Integration

- `cui` - Open SpendCloud UI in VSCode
- `capi` - Open SpendCloud API in VSCode
- `cpf` - Open Proactive Frame in VSCode
- `coded [project]` - Open project from `~/development` in VSCode

---

## Development Server

- `serve` - Start live-server (serves `./dist` directory)
- `serve [directory]` - Start live-server for specific directory

**Examples:**
```bash
serve           # Serves ./dist directory
serve build     # Serves ./build directory
```

---

## Quick Reference

**Most Used Commands:**
```bash
# Quick start development
s                      # Start dev server
d                      # Start in dev mode
t                      # Run tests

# Git workflow
gs                     # Check status
ga .                   # Stage all
gcm "message"          # Commit with message
gp                     # Push changes

# Navigation
development myproject  # Go to ~/development/myproject
grt                    # Go to git root
```

**SpendCloud Workflow:**
```bash
cluster                # Start cluster
migrate                # Run migrations
scui                   # Go to UI directory
cui                    # Open UI in VSCode
```

---

## Configuration

- **Git Integration**: Uses `gh` (GitHub CLI) for enhanced GitHub features
- **Package Manager**: Universal support via `ni`/`nr` for npm/yarn/pnpm
- **Terminal**: Optimized for zsh with Pure prompt
- **Editor**: VSCode integration throughout

> **Tip**: All functions include error handling and smart defaults
